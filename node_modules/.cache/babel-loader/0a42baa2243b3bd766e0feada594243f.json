{"ast":null,"code":"\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"/home/umang/hub/space-voyager/space-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _classCallCheck = require(\"/home/umang/hub/space-voyager/space-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/umang/hub/space-voyager/space-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/home/umang/hub/space-voyager/space-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/home/umang/hub/space-voyager/space-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Linker = void 0;\n\nvar Utils_1 = require(\"../../../Utils\");\n\nvar ParticlesInteractorBase_1 = require(\"../../../Core/ParticlesInteractorBase\");\n\nfunction getLinkDistance(pos1, pos2, optDistance, canvasSize, warp) {\n  var distance = (0, Utils_1.getDistance)(pos1, pos2);\n\n  if (!warp || distance <= optDistance) {\n    return distance;\n  }\n\n  var pos2NE = {\n    x: pos2.x - canvasSize.width,\n    y: pos2.y\n  };\n  distance = (0, Utils_1.getDistance)(pos1, pos2NE);\n\n  if (distance <= optDistance) {\n    return distance;\n  }\n\n  var pos2SE = {\n    x: pos2.x - canvasSize.width,\n    y: pos2.y - canvasSize.height\n  };\n  distance = (0, Utils_1.getDistance)(pos1, pos2SE);\n\n  if (distance <= optDistance) {\n    return distance;\n  }\n\n  var pos2SW = {\n    x: pos2.x,\n    y: pos2.y - canvasSize.height\n  };\n  distance = (0, Utils_1.getDistance)(pos1, pos2SW);\n  return distance;\n}\n\nvar Linker = /*#__PURE__*/function (_ParticlesInteractorB) {\n  _inherits(Linker, _ParticlesInteractorB);\n\n  var _super = _createSuper(Linker);\n\n  function Linker(container) {\n    _classCallCheck(this, Linker);\n\n    return _super.call(this, container);\n  }\n\n  _createClass(Linker, [{\n    key: \"isEnabled\",\n    value: function isEnabled(particle) {\n      return particle.options.links.enable;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {}\n  }, {\n    key: \"interact\",\n    value: function interact(p1) {\n      var _a;\n\n      p1.links = [];\n      var pos1 = p1.getPosition();\n      var container = this.container;\n      var canvasSize = container.canvas.size;\n\n      if (pos1.x < 0 || pos1.y < 0 || pos1.x > canvasSize.width || pos1.y > canvasSize.height) {\n        return;\n      }\n\n      var linkOpt1 = p1.options.links;\n      var optOpacity = linkOpt1.opacity;\n      var optDistance = (_a = p1.retina.linksDistance) !== null && _a !== void 0 ? _a : container.retina.linksDistance;\n      var warp = linkOpt1.warp;\n      var range = warp ? new Utils_1.CircleWarp(pos1.x, pos1.y, optDistance, canvasSize) : new Utils_1.Circle(pos1.x, pos1.y, optDistance);\n      var query = container.particles.quadTree.query(range);\n\n      var _iterator = _createForOfIteratorHelper(query),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var p2 = _step.value;\n          var linkOpt2 = p2.options.links;\n\n          if (p1 === p2 || !linkOpt2.enable || linkOpt1.id !== linkOpt2.id || p2.spawning || p2.destroyed || p1.links.map(function (t) {\n            return t.destination;\n          }).indexOf(p2) !== -1 || p2.links.map(function (t) {\n            return t.destination;\n          }).indexOf(p1) !== -1) {\n            continue;\n          }\n\n          var pos2 = p2.getPosition();\n\n          if (pos2.x < 0 || pos2.y < 0 || pos2.x > canvasSize.width || pos2.y > canvasSize.height) {\n            continue;\n          }\n\n          var distance = getLinkDistance(pos1, pos2, optDistance, canvasSize, warp && linkOpt2.warp);\n\n          if (distance > optDistance) {\n            return;\n          }\n\n          var opacityLine = (1 - distance / optDistance) * optOpacity;\n          this.setColor(p1);\n          p1.links.push({\n            destination: p2,\n            opacity: opacityLine\n          });\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(p1) {\n      var container = this.container;\n      var linksOptions = p1.options.links;\n      var linkColor = linksOptions.id === undefined ? container.particles.linksColor : container.particles.linksColors.get(linksOptions.id);\n\n      if (!linkColor) {\n        var optColor = linksOptions.color;\n        linkColor = (0, Utils_1.getLinkRandomColor)(optColor, linksOptions.blink, linksOptions.consent);\n\n        if (linksOptions.id === undefined) {\n          container.particles.linksColor = linkColor;\n        } else {\n          container.particles.linksColors.set(linksOptions.id, linkColor);\n        }\n      }\n    }\n  }]);\n\n  return Linker;\n}(ParticlesInteractorBase_1.ParticlesInteractorBase);\n\nexports.Linker = Linker;","map":{"version":3,"sources":["/home/umang/hub/space-voyager/space-app/node_modules/tsparticles/Interactions/Particles/Links/Linker.js"],"names":["Object","defineProperty","exports","value","Linker","Utils_1","require","ParticlesInteractorBase_1","getLinkDistance","pos1","pos2","optDistance","canvasSize","warp","distance","getDistance","pos2NE","x","width","y","pos2SE","height","pos2SW","container","particle","options","links","enable","p1","_a","getPosition","canvas","size","linkOpt1","optOpacity","opacity","retina","linksDistance","range","CircleWarp","Circle","query","particles","quadTree","p2","linkOpt2","id","spawning","destroyed","map","t","destination","indexOf","opacityLine","setColor","push","linksOptions","linkColor","undefined","linksColor","linksColors","get","optColor","color","getLinkRandomColor","blink","consent","set","ParticlesInteractorBase"],"mappings":"AAAA;;;;;;;;;;;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,MAAR,GAAiB,KAAK,CAAtB;;AACA,IAAMC,OAAO,GAAGC,OAAO,CAAC,gBAAD,CAAvB;;AACA,IAAMC,yBAAyB,GAAGD,OAAO,CAAC,uCAAD,CAAzC;;AACA,SAASE,eAAT,CAAyBC,IAAzB,EAA+BC,IAA/B,EAAqCC,WAArC,EAAkDC,UAAlD,EAA8DC,IAA9D,EAAoE;AAChE,MAAIC,QAAQ,GAAG,CAAC,GAAGT,OAAO,CAACU,WAAZ,EAAyBN,IAAzB,EAA+BC,IAA/B,CAAf;;AACA,MAAI,CAACG,IAAD,IAASC,QAAQ,IAAIH,WAAzB,EAAsC;AAClC,WAAOG,QAAP;AACH;;AACD,MAAME,MAAM,GAAG;AACXC,IAAAA,CAAC,EAAEP,IAAI,CAACO,CAAL,GAASL,UAAU,CAACM,KADZ;AAEXC,IAAAA,CAAC,EAAET,IAAI,CAACS;AAFG,GAAf;AAIAL,EAAAA,QAAQ,GAAG,CAAC,GAAGT,OAAO,CAACU,WAAZ,EAAyBN,IAAzB,EAA+BO,MAA/B,CAAX;;AACA,MAAIF,QAAQ,IAAIH,WAAhB,EAA6B;AACzB,WAAOG,QAAP;AACH;;AACD,MAAMM,MAAM,GAAG;AACXH,IAAAA,CAAC,EAAEP,IAAI,CAACO,CAAL,GAASL,UAAU,CAACM,KADZ;AAEXC,IAAAA,CAAC,EAAET,IAAI,CAACS,CAAL,GAASP,UAAU,CAACS;AAFZ,GAAf;AAIAP,EAAAA,QAAQ,GAAG,CAAC,GAAGT,OAAO,CAACU,WAAZ,EAAyBN,IAAzB,EAA+BW,MAA/B,CAAX;;AACA,MAAIN,QAAQ,IAAIH,WAAhB,EAA6B;AACzB,WAAOG,QAAP;AACH;;AACD,MAAMQ,MAAM,GAAG;AACXL,IAAAA,CAAC,EAAEP,IAAI,CAACO,CADG;AAEXE,IAAAA,CAAC,EAAET,IAAI,CAACS,CAAL,GAASP,UAAU,CAACS;AAFZ,GAAf;AAIAP,EAAAA,QAAQ,GAAG,CAAC,GAAGT,OAAO,CAACU,WAAZ,EAAyBN,IAAzB,EAA+Ba,MAA/B,CAAX;AACA,SAAOR,QAAP;AACH;;IACKV,M;;;;;AACF,kBAAYmB,SAAZ,EAAuB;AAAA;;AAAA,6BACbA,SADa;AAEtB;;;;WACD,mBAAUC,QAAV,EAAoB;AAChB,aAAOA,QAAQ,CAACC,OAAT,CAAiBC,KAAjB,CAAuBC,MAA9B;AACH;;;WACD,iBAAQ,CACP;;;WACD,kBAASC,EAAT,EAAa;AACT,UAAIC,EAAJ;;AACAD,MAAAA,EAAE,CAACF,KAAH,GAAW,EAAX;AACA,UAAMjB,IAAI,GAAGmB,EAAE,CAACE,WAAH,EAAb;AACA,UAAMP,SAAS,GAAG,KAAKA,SAAvB;AACA,UAAMX,UAAU,GAAGW,SAAS,CAACQ,MAAV,CAAiBC,IAApC;;AACA,UAAIvB,IAAI,CAACQ,CAAL,GAAS,CAAT,IAAcR,IAAI,CAACU,CAAL,GAAS,CAAvB,IAA4BV,IAAI,CAACQ,CAAL,GAASL,UAAU,CAACM,KAAhD,IAAyDT,IAAI,CAACU,CAAL,GAASP,UAAU,CAACS,MAAjF,EAAyF;AACrF;AACH;;AACD,UAAMY,QAAQ,GAAGL,EAAE,CAACH,OAAH,CAAWC,KAA5B;AACA,UAAMQ,UAAU,GAAGD,QAAQ,CAACE,OAA5B;AACA,UAAMxB,WAAW,GAAG,CAACkB,EAAE,GAAGD,EAAE,CAACQ,MAAH,CAAUC,aAAhB,MAAmC,IAAnC,IAA2CR,EAAE,KAAK,KAAK,CAAvD,GAA2DA,EAA3D,GAAgEN,SAAS,CAACa,MAAV,CAAiBC,aAArG;AACA,UAAMxB,IAAI,GAAGoB,QAAQ,CAACpB,IAAtB;AACA,UAAMyB,KAAK,GAAGzB,IAAI,GACZ,IAAIR,OAAO,CAACkC,UAAZ,CAAuB9B,IAAI,CAACQ,CAA5B,EAA+BR,IAAI,CAACU,CAApC,EAAuCR,WAAvC,EAAoDC,UAApD,CADY,GAEZ,IAAIP,OAAO,CAACmC,MAAZ,CAAmB/B,IAAI,CAACQ,CAAxB,EAA2BR,IAAI,CAACU,CAAhC,EAAmCR,WAAnC,CAFN;AAGA,UAAM8B,KAAK,GAAGlB,SAAS,CAACmB,SAAV,CAAoBC,QAApB,CAA6BF,KAA7B,CAAmCH,KAAnC,CAAd;;AAhBS,iDAiBQG,KAjBR;AAAA;;AAAA;AAiBT,4DAAwB;AAAA,cAAbG,EAAa;AACpB,cAAMC,QAAQ,GAAGD,EAAE,CAACnB,OAAH,CAAWC,KAA5B;;AACA,cAAIE,EAAE,KAAKgB,EAAP,IACA,CAACC,QAAQ,CAAClB,MADV,IAEAM,QAAQ,CAACa,EAAT,KAAgBD,QAAQ,CAACC,EAFzB,IAGAF,EAAE,CAACG,QAHH,IAIAH,EAAE,CAACI,SAJH,IAKApB,EAAE,CAACF,KAAH,CAASuB,GAAT,CAAa,UAACC,CAAD;AAAA,mBAAOA,CAAC,CAACC,WAAT;AAAA,WAAb,EAAmCC,OAAnC,CAA2CR,EAA3C,MAAmD,CAAC,CALpD,IAMAA,EAAE,CAAClB,KAAH,CAASuB,GAAT,CAAa,UAACC,CAAD;AAAA,mBAAOA,CAAC,CAACC,WAAT;AAAA,WAAb,EAAmCC,OAAnC,CAA2CxB,EAA3C,MAAmD,CAAC,CANxD,EAM2D;AACvD;AACH;;AACD,cAAMlB,IAAI,GAAGkC,EAAE,CAACd,WAAH,EAAb;;AACA,cAAIpB,IAAI,CAACO,CAAL,GAAS,CAAT,IAAcP,IAAI,CAACS,CAAL,GAAS,CAAvB,IAA4BT,IAAI,CAACO,CAAL,GAASL,UAAU,CAACM,KAAhD,IAAyDR,IAAI,CAACS,CAAL,GAASP,UAAU,CAACS,MAAjF,EAAyF;AACrF;AACH;;AACD,cAAMP,QAAQ,GAAGN,eAAe,CAACC,IAAD,EAAOC,IAAP,EAAaC,WAAb,EAA0BC,UAA1B,EAAsCC,IAAI,IAAIgC,QAAQ,CAAChC,IAAvD,CAAhC;;AACA,cAAIC,QAAQ,GAAGH,WAAf,EAA4B;AACxB;AACH;;AACD,cAAM0C,WAAW,GAAG,CAAC,IAAIvC,QAAQ,GAAGH,WAAhB,IAA+BuB,UAAnD;AACA,eAAKoB,QAAL,CAAc1B,EAAd;AACAA,UAAAA,EAAE,CAACF,KAAH,CAAS6B,IAAT,CAAc;AACVJ,YAAAA,WAAW,EAAEP,EADH;AAEVT,YAAAA,OAAO,EAAEkB;AAFC,WAAd;AAIH;AA1CQ;AAAA;AAAA;AAAA;AAAA;AA2CZ;;;WACD,kBAASzB,EAAT,EAAa;AACT,UAAML,SAAS,GAAG,KAAKA,SAAvB;AACA,UAAMiC,YAAY,GAAG5B,EAAE,CAACH,OAAH,CAAWC,KAAhC;AACA,UAAI+B,SAAS,GAAGD,YAAY,CAACV,EAAb,KAAoBY,SAApB,GACVnC,SAAS,CAACmB,SAAV,CAAoBiB,UADV,GAEVpC,SAAS,CAACmB,SAAV,CAAoBkB,WAApB,CAAgCC,GAAhC,CAAoCL,YAAY,CAACV,EAAjD,CAFN;;AAGA,UAAI,CAACW,SAAL,EAAgB;AACZ,YAAMK,QAAQ,GAAGN,YAAY,CAACO,KAA9B;AACAN,QAAAA,SAAS,GAAG,CAAC,GAAGpD,OAAO,CAAC2D,kBAAZ,EAAgCF,QAAhC,EAA0CN,YAAY,CAACS,KAAvD,EAA8DT,YAAY,CAACU,OAA3E,CAAZ;;AACA,YAAIV,YAAY,CAACV,EAAb,KAAoBY,SAAxB,EAAmC;AAC/BnC,UAAAA,SAAS,CAACmB,SAAV,CAAoBiB,UAApB,GAAiCF,SAAjC;AACH,SAFD,MAGK;AACDlC,UAAAA,SAAS,CAACmB,SAAV,CAAoBkB,WAApB,CAAgCO,GAAhC,CAAoCX,YAAY,CAACV,EAAjD,EAAqDW,SAArD;AACH;AACJ;AACJ;;;;EArEgBlD,yBAAyB,CAAC6D,uB;;AAuE/ClE,OAAO,CAACE,MAAR,GAAiBA,MAAjB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Linker = void 0;\nconst Utils_1 = require(\"../../../Utils\");\nconst ParticlesInteractorBase_1 = require(\"../../../Core/ParticlesInteractorBase\");\nfunction getLinkDistance(pos1, pos2, optDistance, canvasSize, warp) {\n    let distance = (0, Utils_1.getDistance)(pos1, pos2);\n    if (!warp || distance <= optDistance) {\n        return distance;\n    }\n    const pos2NE = {\n        x: pos2.x - canvasSize.width,\n        y: pos2.y,\n    };\n    distance = (0, Utils_1.getDistance)(pos1, pos2NE);\n    if (distance <= optDistance) {\n        return distance;\n    }\n    const pos2SE = {\n        x: pos2.x - canvasSize.width,\n        y: pos2.y - canvasSize.height,\n    };\n    distance = (0, Utils_1.getDistance)(pos1, pos2SE);\n    if (distance <= optDistance) {\n        return distance;\n    }\n    const pos2SW = {\n        x: pos2.x,\n        y: pos2.y - canvasSize.height,\n    };\n    distance = (0, Utils_1.getDistance)(pos1, pos2SW);\n    return distance;\n}\nclass Linker extends ParticlesInteractorBase_1.ParticlesInteractorBase {\n    constructor(container) {\n        super(container);\n    }\n    isEnabled(particle) {\n        return particle.options.links.enable;\n    }\n    reset() {\n    }\n    interact(p1) {\n        var _a;\n        p1.links = [];\n        const pos1 = p1.getPosition();\n        const container = this.container;\n        const canvasSize = container.canvas.size;\n        if (pos1.x < 0 || pos1.y < 0 || pos1.x > canvasSize.width || pos1.y > canvasSize.height) {\n            return;\n        }\n        const linkOpt1 = p1.options.links;\n        const optOpacity = linkOpt1.opacity;\n        const optDistance = (_a = p1.retina.linksDistance) !== null && _a !== void 0 ? _a : container.retina.linksDistance;\n        const warp = linkOpt1.warp;\n        const range = warp\n            ? new Utils_1.CircleWarp(pos1.x, pos1.y, optDistance, canvasSize)\n            : new Utils_1.Circle(pos1.x, pos1.y, optDistance);\n        const query = container.particles.quadTree.query(range);\n        for (const p2 of query) {\n            const linkOpt2 = p2.options.links;\n            if (p1 === p2 ||\n                !linkOpt2.enable ||\n                linkOpt1.id !== linkOpt2.id ||\n                p2.spawning ||\n                p2.destroyed ||\n                p1.links.map((t) => t.destination).indexOf(p2) !== -1 ||\n                p2.links.map((t) => t.destination).indexOf(p1) !== -1) {\n                continue;\n            }\n            const pos2 = p2.getPosition();\n            if (pos2.x < 0 || pos2.y < 0 || pos2.x > canvasSize.width || pos2.y > canvasSize.height) {\n                continue;\n            }\n            const distance = getLinkDistance(pos1, pos2, optDistance, canvasSize, warp && linkOpt2.warp);\n            if (distance > optDistance) {\n                return;\n            }\n            const opacityLine = (1 - distance / optDistance) * optOpacity;\n            this.setColor(p1);\n            p1.links.push({\n                destination: p2,\n                opacity: opacityLine,\n            });\n        }\n    }\n    setColor(p1) {\n        const container = this.container;\n        const linksOptions = p1.options.links;\n        let linkColor = linksOptions.id === undefined\n            ? container.particles.linksColor\n            : container.particles.linksColors.get(linksOptions.id);\n        if (!linkColor) {\n            const optColor = linksOptions.color;\n            linkColor = (0, Utils_1.getLinkRandomColor)(optColor, linksOptions.blink, linksOptions.consent);\n            if (linksOptions.id === undefined) {\n                container.particles.linksColor = linkColor;\n            }\n            else {\n                container.particles.linksColors.set(linksOptions.id, linkColor);\n            }\n        }\n    }\n}\nexports.Linker = Linker;\n"]},"metadata":{},"sourceType":"script"}